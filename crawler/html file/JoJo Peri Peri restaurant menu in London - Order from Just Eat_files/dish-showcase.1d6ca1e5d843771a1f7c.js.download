(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2B1A":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"c-carousel"},[e("div",{ref:"carousel",class:["c-carousel-inner",{"c-carousel-inner--fadeLeft":t.shouldFadeEdges&&!t.isAtStart,"c-carousel-inner--fadeRight":t.shouldFadeEdges&&!t.isAtEnd}],on:{mousedown:t.onMouseDown,mouseup:t.onMouseOff,mouseleave:t.onMouseOff,mousemove:t.onMouseMove,scroll:t.onScroll}},[t._t("default")],2),t._v(" "),t.shouldShowNavButtons?e("button",{directives:[{name:"show",rawName:"v-show",value:t.showBackwardButton,expression:"showBackwardButton"}],class:["c-carousel-navBtn c-carousel-navBtn--left",{"c-carousel-navBtn--small":t.hasSmallNavButtons,"c-carousel-navBtn--light":t.hasLightNavButtons}],attrs:{type:"button",tabindex:"-1",disabled:t.isScrolling},on:{click:t.onClickBackward}},[e("span",{staticClass:"is-visuallyHidden"},[t._v("\n            "+t._s(t.$t("showcase.backward"))+"\n        ")]),t._v(" "),e("chevron-left-small-icon",{staticClass:"c-pieIcon--interactiveBrand c-carousel-navBtn-icon"})],1):t._e(),t._v(" "),t.shouldShowNavButtons?e("button",{directives:[{name:"show",rawName:"v-show",value:t.showForwardButton,expression:"showForwardButton"}],class:["c-carousel-navBtn c-carousel-navBtn--right",{"c-carousel-navBtn--small":t.hasSmallNavButtons,"c-carousel-navBtn--light":t.hasLightNavButtons}],attrs:{type:"button",tabindex:"-1",disabled:t.isScrolling},on:{click:t.onClickForward}},[e("span",{staticClass:"is-visuallyHidden"},[t._v("\n            "+t._s(t.$t("showcase.forward"))+"\n        ")]),t._v(" "),e("chevron-right-small-icon",{staticClass:"c-pieIcon--interactiveBrand c-carousel-navBtn-icon"})],1):t._e()])};s._withStripped=!0;var n=i("kWaf"),o={components:{ChevronLeftSmallIcon:n.l,ChevronRightSmallIcon:n.m},provide:function(){return{carousel:this}},props:{scrollAmount:{type:Number,default:1},shouldShowNavButtons:{type:Boolean,default:!0},hasSmallNavButtons:{type:Boolean,default:!1},hasLightNavButtons:{type:Boolean,default:!1},shouldFadeEdges:{type:Boolean,default:!1}},data:function(){return{carousel:null,isDragging:!1,isScrolling:!1,scrollId:0,showBackwardButton:!1,showForwardButton:!0,isMouseDown:!1,startX:0,scrollLeftPos:0,isAtStart:!0,isAtEnd:!1}},watch:{isScrolling:function(t){this.$emit("is-scrolling",t)}},mounted:function(){this.carousel=this.$refs.carousel,this.checkElementPositions()},updated:function(){this.checkElementPositions()},methods:{scroll:function(t){var e=window.matchMedia("(prefers-reduced-motion: no-preference)").matches;this.carousel.scrollBy({left:t*this.scrollAmount,behavior:e?"smooth":"auto"})},onMouseDown:function(t){this.isMouseDown=!0,this.isDragging=!1,this.startX=t.pageX-this.carousel.offsetLeft,this.scrollLeftPos=this.carousel.scrollLeft},onMouseOff:function(){this.isMouseDown=!1},onMouseMove:function(t){if(this.isMouseDown){t.preventDefault(),this.isDragging=!0;var e=t.pageX-this.carousel.offsetLeft-this.startX;this.carousel.scrollLeft=this.scrollLeftPos-e}},onScroll:function(){var t=this;this.checkElementPositions(),this.isScrolling=!0,clearTimeout(this.scrollId),this.scrollId=setTimeout((function(){t.isScrolling=!1}),75)},checkElementPositions:function(){var t=this.carousel,e=t.scrollLeft,i=t.scrollWidth-t.clientWidth,s=i>0;this.isAtEnd=e>=i,this.isAtStart=e<=0,this.showBackwardButton=!this.isAtStart,this.showForwardButton=s&&!this.isAtEnd},onClickForward:function(){this.isAtEnd||this.scroll(this.carousel.clientWidth)},onClickBackward:function(){this.isAtStart||this.scroll(-this.carousel.clientWidth)},visibilityChanged:function(t){t&&this.checkElementPositions()}}},a=i("KHd+"),r=Object(a.a)(o,s,[],!1,null,null,null);e.a=r.exports},"8vvq":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("slide-carousel",{staticClass:"c-dishShowcase",attrs:{"data-test-id":"dish-showcase","scroll-amount":.5},on:{"is-scrolling":t.onIsScrolling}},t._l(t.dishShowcaseItems,(function(i,s){return e("dish-showcase-item",t._b({key:"".concat(i.id,"_DishShowcaseItem"),attrs:{index:s,"has-nutrition-info":t.hasNutritionInfo},on:{"visibility-changed":t.onItemVisibilityChanged}},"dish-showcase-item",i,!1))})),1)};s._withStripped=!0;var n=i("lSNA"),o=i.n(n),a=i("L2JU"),r=i("2B1A"),c=function(){var t=this,e=t._self._c;return e("slide-carousel-item",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.onItemVisibilityChanged,expression:"onItemVisibilityChanged"}],class:["c-dishShowcase-card",{"c-dishShowcase-card--offline":t.isItemOffline}],attrs:{id:"dishshowcase".concat(t.id)},on:{"slide-click":t.onItemClick}},[t.showDishImage?e("item-image",{staticClass:"c-dishShowcase-image",attrs:{sources:t.imageSources,height:90,placeholder:t.itemImagePlaceholder},on:{error:t.onItemImageError}}):t._e(),t._v(" "),e("div",{class:["c-dishShowcase-content",{"c-dishShowcase-content-nutrition":t.hasNutritionInfo}]},[e("h3",{staticClass:"c-dishShowcase-heading"},[e("span",{staticClass:"c-dishShowcase-surtitle"},[t._v("\n                "+t._s(t.categoryName)+"\n            ")]),t._v(" "),e("span",{staticClass:"c-dishShowcase-name",attrs:{"data-test-id":"dish-showcase-item-name"}},[t._v("\n                "+t._s(t.name)+"\n            ")])]),t._v(" "),e("div",{staticClass:"c-dishShowcase-meta"},[t.shouldShowType?e("p",{class:["c-dishShowcase-type c-tag",{"c-tag--white":t.isItemOffline}]},[t._v("\n                "+t._s(t.$t("showcase.type.".concat(t.type)))+"\n            ")]):t._e(),t._v(" "),t.shouldShowNutrition?e("p",{staticClass:"c-dishShowcase-nutrition"},[t._v("\n                "+t._s(t.nutritionMessage)+"\n            ")]):t._e(),t._v(" "),e("p",{staticClass:"c-dishShowcase-price"},[t._v("\n                "+t._s(t.formattedPrice)+"\n            ")])])])],1)};c._withStripped=!0;var l=i("Ooiz"),h=i("naNf"),u=i("GLDE"),d=i("vL8B"),m=i("ekSH"),f=i("3+X8"),v=i("NIb2"),p=i("Z2t9");function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={components:{SlideCarouselItem:h.a,ItemImage:u.a},mixins:[d.a,m.a,f.a],props:{id:{type:String,required:!0},name:{type:String,required:!0},categoryName:{type:String,required:!0},type:{type:String,default:""},price:{type:Number,required:!0},imageSources:{type:Array,default:function(){return[]}},index:{type:Number,required:!0},hasNutritionInfo:{type:Boolean,default:!1}},data:function(){return{showDishImage:!1}},computed:g(g({},Object(a.d)("items",["offlineVariationIds"])),{},{itemImagePlaceholder:function(){return this.getAssetUrl(v.a)},gtmTrackingPayload:function(){return{id:this.id,type:this.type,index:this.index+1}},gtmMenuItemCategory:function(){switch(this.type){case"popular":return p.nb;default:return""}},isItemOffline:function(){return!!this.offlineVariationIds[this.id]},shouldShowType:function(){return p.y.includes(this.type)},shouldShowNutrition:function(){var t,e;return!(null===(t=this.nutritionalInfo)||void 0===t||!t.energyDisplay)||!(null===(e=this.numberOfServings)||void 0===e||!e.servingsDisplay)},formattedPrice:function(){return this.isItemOffline?this.$t("menu.unavailable"):this.$n(this.price,"currency")}}),mounted:function(){this.showDishImage=this.imageSources.length>0},methods:g(g({},Object(a.b)("analytics",["trackDishShowcaseEvent"])),{},{showSelectedItemModal:function(){this.showSelectedItem({id:this.id,selectedVariations:l.a.getFlattenedVariations(this.id),action:"basket_add_showcase",itemType:p.nb,menuItemCategory:this.gtmMenuItemCategory}),this.trackDishShowcaseEvent({actionType:"click",position:this.index+1,visibleRecommendations:[this.gtmTrackingPayload]})},onItemImageError:function(){this.showDishImage=!1},onItemVisibilityChanged:function(t){this.$emit("visibility-changed",g(g({},this.gtmTrackingPayload),{},{visible:t}))}})},y=i("KHd+"),S=Object(y.a)(b,c,[],!1,null,null,null).exports;function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var _={components:{SlideCarousel:r.a,DishShowcaseItem:S},props:{dishVariationId:{type:String,default:""}},data:function(){return{canSendImpressionEvent:!0,visibleRecommendations:[]}},computed:O(O(O({},Object(a.d)("menu",["serviceType"])),Object(a.c)("items",["dishShowcaseItems"])),{},{hasNutritionInfo:function(){return this.dishShowcaseItems.some((function(t){var e,i;return!(null===(e=t.nutritionalInfo)||void 0===e||!e.energyDisplay)||!(null===(i=t.numberOfServings)||void 0===i||!i.servingsDisplay)}))}}),watch:{dishShowcaseItems:function(){this.trackImpression()},serviceType:function(){this.getDishShowcaseItems(this.dishVariationId),this.canSendImpressionEvent=!0}},mounted:function(){this.trackDishShowcaseEvent({actionType:"load"}),this.trackImpression()},methods:O(O(O({},Object(a.b)("items",["getDishShowcaseItems"])),Object(a.b)("analytics",["trackDishShowcaseEvent"])),{},{trackImpression:function(){this.canSendImpressionEvent&&(this.trackDishShowcaseEvent({actionType:"impression",visibleRecommendations:this.visibleRecommendations}),this.canSendImpressionEvent=!1)},onIsScrolling:function(t){t||this.trackDishShowcaseEvent({actionType:"interaction",visibleRecommendations:this.visibleRecommendations})},onItemVisibilityChanged:function(t){var e=t.id,i=t.type,s=t.index;t.visible?this.visibleRecommendations.push({id:e,type:i,index:s}):this.visibleRecommendations=this.visibleRecommendations.filter((function(t){return t.id!==e}))}})},k=Object(y.a)(_,s,[],!1,null,null,null);e.default=k.exports},naNf:function(t,e,i){"use strict";var s=function(){return(0,this._self._c)("button",{staticClass:"c-carousel-slide",attrs:{type:"button"},on:{click:this.onClick}},[this._t("default")],2)};s._withStripped=!0;var n={inject:["carousel"],methods:{onClick:function(t){this.carousel.isDragging||this.$emit("slide-click",t)}}},o=i("KHd+"),a=Object(o.a)(n,s,[],!1,null,null,null);e.a=a.exports}}]);
//# sourceMappingURL=dish-showcase.1d6ca1e5d843771a1f7c.js.map